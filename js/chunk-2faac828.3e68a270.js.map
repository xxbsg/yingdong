{"version":3,"sources":["webpack:///./node_modules/jwt-decode/lib/index.js","webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./node_modules/jwt-decode/lib/base64_url_decode.js","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./node_modules/jwt-decode/lib/atob.js","webpack:///./src/views/login/index.vue?2195","webpack:///src/views/login/index.vue","webpack:///./src/views/login/index.vue?e0c5","webpack:///./src/views/login/index.vue","webpack:///./src/views/login/index.vue?301b","webpack:///./src/api/user.js"],"names":["base64_url_decode","InvalidTokenError","message","this","prototype","Error","name","module","exports","token","options","pos","header","JSON","parse","split","e","$","$values","values","target","stat","O","DESCRIPTORS","objectKeys","toIndexedObject","propertyIsEnumerable","f","createMethod","TO_ENTRIES","it","key","keys","length","i","result","call","push","entries","atob","b64DecodeUnicode","str","decodeURIComponent","replace","m","p","code","charCodeAt","toString","toUpperCase","output","err","$find","find","addToUnscopables","FIND","SKIPS_HOLES","Array","proto","forced","callbackfn","arguments","undefined","chars","InvalidCharacterError","polyfill","input","String","bs","buffer","bc","idx","charAt","fromCharCode","indexOf","window","bind","render","_vm","_h","$createElement","_c","_self","attrs","ref","model","value","user","callback","$$v","$set","expression","staticClass","slot","on","guanbi","_e","codefas","fasong","_v","onlogin","staticRenderFns","data","mobile","methods","component","qq","parmas","url","method","request","login","getcode","dat","userinfo","resetpd","userprofile","imgchange","userchange","usermyart","params","usermysc","usermyhis"],"mappings":"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","file":"js/chunk-2faac828.3e68a270.js","sourcesContent":["'use strict';\n\nvar base64_url_decode = require('./base64_url_decode');\n\nfunction InvalidTokenError(message) {\n  this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = 'InvalidTokenError';\n\nmodule.exports = function (token,options) {\n  if (typeof token !== 'string') {\n    throw new InvalidTokenError('Invalid token specified');\n  }\n\n  options = options || {};\n  var pos = options.header === true ? 0 : 1;\n  try {\n    return JSON.parse(base64_url_decode(token.split('.')[pos]));\n  } catch (e) {\n    throw new InvalidTokenError('Invalid token specified: ' + e.message);\n  }\n};\n\nmodule.exports.InvalidTokenError = InvalidTokenError;\n","var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.github.io/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.github.io/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.github.io/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","var atob = require('./atob');\n\nfunction b64DecodeUnicode(str) {\n  return decodeURIComponent(atob(str).replace(/(.)/g, function (m, p) {\n    var code = p.charCodeAt(0).toString(16).toUpperCase();\n    if (code.length < 2) {\n      code = '0' + code;\n    }\n    return '%' + code;\n  }));\n}\n\nmodule.exports = function(str) {\n  var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  switch (output.length % 4) {\n    case 0:\n      break;\n    case 2:\n      output += \"==\";\n      break;\n    case 3:\n      output += \"=\";\n      break;\n    default:\n      throw \"Illegal base64url string!\";\n  }\n\n  try{\n    return b64DecodeUnicode(output);\n  } catch (err) {\n    return atob(output);\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction InvalidCharacterError(message) {\n  this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\nfunction polyfill (input) {\n  var str = String(input).replace(/=+$/, '');\n  if (str.length % 4 == 1) {\n    throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n  }\n  for (\n    // initialize result and counters\n    var bc = 0, bs, buffer, idx = 0, output = '';\n    // get next character\n    buffer = str.charAt(idx++);\n    // character found in table? initialize bit storage and add its ascii value;\n    ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n      // and if not first of each 4 characters,\n      // convert the first 8 bits to one ascii character\n      bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n  ) {\n    // try to find character in table (0-63, not found => -1)\n    buffer = chars.indexOf(buffer);\n  }\n  return output;\n}\n\n\nmodule.exports = typeof window !== 'undefined' && window.atob && window.atob.bind(window) || polyfill;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":\"登录\"}}),_c('ValidationObserver',{ref:\"form\"},[_c('ValidationProvider',{attrs:{\"rules\":\"required|mobile\",\"name\":\"手机号\"}},[_c('van-field',{attrs:{\"label\":\"手机号\",\"placeholder\":\"请输入手机号\"},model:{value:(_vm.user.mobile),callback:function ($$v) {_vm.$set(_vm.user, \"mobile\", $$v)},expression:\"user.mobile\"}},[_c('i',{staticClass:\"iconfont icon-shouji\",attrs:{\"slot\":\"left-icon\"},slot:\"left-icon\"})])],1),_c('ValidationProvider',{attrs:{\"rules\":\"required|code\",\"name\":\"验证码\"}},[_c('van-field',{attrs:{\"label\":\"验证码\",\"placeholder\":\"请输入验证码\"},model:{value:(_vm.user.code),callback:function ($$v) {_vm.$set(_vm.user, \"code\", $$v)},expression:\"user.code\"}},[_c('i',{staticClass:\"iconfont icon-mima\",attrs:{\"slot\":\"left-icon\"},slot:\"left-icon\"}),(_vm.codefas)?_c('van-count-down',{attrs:{\"slot\":\"button\",\"time\":1000*6,\"format\":\"ss s\"},on:{\"finish\":_vm.guanbi},slot:\"button\"}):_vm._e(),(!_vm.codefas)?_c('van-button',{attrs:{\"slot\":\"button\",\"size\":\"small\",\"type\":\"primary\",\"disabled\":_vm.codefas},on:{\"click\":_vm.fasong},slot:\"button\"},[_vm._v(\"发送验证码\")]):_vm._e()],1)],1)],1),_c('van-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\",\"align\":\"center\"}},[_c('van-button',{staticClass:\"denglu\",attrs:{\"type\":\"info\"},on:{\"click\":_vm.onlogin}},[_vm._v(\"登录\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <van-nav-bar title=\"登录\" />\r\n    <!-- 表单 -->\r\n    <ValidationObserver ref=\"form\">\r\n      <ValidationProvider rules=\"required|mobile\" name=\"手机号\">\r\n        <van-field v-model=\"user.mobile\" label=\"手机号\" placeholder=\"请输入手机号\">\r\n          <i slot=\"left-icon\" class=\"iconfont icon-shouji\"></i>\r\n        </van-field>\r\n      </ValidationProvider>\r\n      <ValidationProvider rules=\"required|code\" name=\"验证码\">\r\n        <van-field v-model=\"user.code\" label=\"验证码\" placeholder=\"请输入验证码\">\r\n          <i slot=\"left-icon\" class=\"iconfont icon-mima\"></i>\r\n          <van-count-down\r\n            v-if=\"codefas\"\r\n            :time=\"1000*6\"\r\n            slot=\"button\"\r\n            format=\"ss s\"\r\n            @finish=\"guanbi\"\r\n          />\r\n          <van-button\r\n            v-if=\"!codefas\"\r\n            slot=\"button\"\r\n            size=\"small\"\r\n            type=\"primary\"\r\n            @click=\"fasong\"\r\n            :disabled=\"codefas\"\r\n          >发送验证码</van-button>\r\n        </van-field>\r\n      </ValidationProvider>\r\n    </ValidationObserver>\r\n    <van-row type=\"flex\" justify=\"center\" align=\"center\">\r\n      <van-button type=\"info\" class=\"denglu\" @click=\"onlogin\">登录</van-button>\r\n    </van-row>\r\n    <!-- <div>时间为{{shijian}}</div> -->\r\n    <!-- <ValidationProvider rules=\"required\" v-slot=\"{ errors }\">\r\n      <input v-model=\"email\" type=\"text\" />\r\n      <span>{{ errors[0] }}</span>\r\n    </ValidationProvider>-->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { login, getcode } from '@/api/user'\r\nimport { validate } from 'vee-validate'\r\nimport jwtDecode from 'jwt-decode'\r\nexport default {\r\n  data () {\r\n    return {\r\n      codefas: false,\r\n      user: {\r\n        mobile: '13911111111',\r\n        code: '246810'\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 关闭倒计时\r\n    guanbi () {\r\n      this.codefas = false\r\n    },\r\n    async fasong () {\r\n      let result = await validate(this.user.mobile, 'required|mobile', { name: '手机号' })\r\n      if (!result.valid) {\r\n        this.$toast(result.errors[0])\r\n        return\r\n      }\r\n      let res = await getcode({\r\n        mobile: this.user.mobile\r\n      })\r\n      if (res === undefined) {\r\n        return\r\n      }\r\n      console.log(res)\r\n      // let res = { message: 'OK' }\r\n\r\n      if (res.message === 'OK') {\r\n        this.codefas = true\r\n      }\r\n    },\r\n    // 登录\r\n    async onlogin () {\r\n      const success = await this.$refs.form.validate()\r\n      console.log(this.$refs.form)\r\n      if (!success) {\r\n        let tishi = Object.values(this.$refs.form.errors).find(\r\n          item => item[0]\r\n        )[0]\r\n        this.$toast.fail(tishi)\r\n        return\r\n      }\r\n\r\n      this.$toast.loading({\r\n        message: '加载中...',\r\n        forbidClick: true,\r\n        duration: 0\r\n      })\r\n      try {\r\n        let resp = await login(this.user)\r\n        console.log(resp.data)\r\n        const decode = jwtDecode(resp.data.token)\r\n\r\n        console.log(decode)\r\n        // this.$store.state.token = resp.data\r\n        resp.data['user_id'] = decode.user_id\r\n        // debugger\r\n        this.$store.commit('addtoken', resp.data)\r\n        this.$toast.success({\r\n          message: '登陆成功',\r\n\r\n          onClose: () => {\r\n            console.log(this.$router.currentRoute.query.return)\r\n            debugger\r\n            if (this.$router.currentRoute.query.return) {\r\n              this.$router.push(this.$router.currentRoute.query.return)\r\n            } else {\r\n              this.$router.push('/')\r\n            }\r\n          }\r\n\r\n        })\r\n      } catch (err) {\r\n        console.log(err)\r\n        this.$toast.fail('登录失败')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n.denglu {\r\n  width: 325px;\r\n  margin: 15px 0;\r\n}\r\n.van-cell {\r\n  height: 50px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=13f973ce&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=13f973ce&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"13f973ce\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=13f973ce&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=13f973ce&lang=less&scoped=true&\"","import request from '@/utils/request'\r\n// import { duration } from 'moment'\r\nconst qq = function (data = {}, parmas = {}, url = '', method = 'get') {\r\n  return request({\r\n    url: url,\r\n    method: method,\r\n    data,\r\n    parmas\r\n  })\r\n}\r\nexport const login = function (data = {}, parmas = {}) {\r\n  return request({\r\n    url: '/app/v1_0/authorizations',\r\n    method: 'POST',\r\n    data,\r\n    parmas\r\n  })\r\n}\r\nexport const getcode = function (dat = { data: {}, parmas: {} }) {\r\n  return qq(dat.data, dat.parmas, `/app/v1_0/sms/codes/${dat.mobile}`)\r\n}\r\nexport const userinfo = function (data = {}, parmas = {}) {\r\n  return request({\r\n    url: '/app/v1_0/user',\r\n    method: 'get',\r\n    data,\r\n    parmas\r\n  })\r\n}\r\nexport const resetpd = function (data) {\r\n  return request({\r\n    url: '/app/v1_0/user/channels',\r\n    method: 'PUT',\r\n    data\r\n  })\r\n}\r\nexport const userprofile = function (data) {\r\n  return request({\r\n    url: '/app/v1_0/user/profile',\r\n    data,\r\n    method: 'GET'\r\n  })\r\n}\r\nexport const imgchange = function (data) {\r\n  return request({\r\n    url: '/app/v1_0/user/photo',\r\n    method: 'patch',\r\n    data\r\n  })\r\n}\r\nexport const userchange = function (data) {\r\n  return request({\r\n    url: '/app/v1_0/user/profile',\r\n    method: 'PATCH',\r\n    data\r\n  })\r\n}\r\n// 获取用户文章\r\nexport const usermyart = function (data) {\r\n  return request({\r\n    url: '/app/v1_0/user/articles',\r\n    method: 'GET',\r\n    params: data\r\n  })\r\n}\r\n// 获取用户收藏列表\r\nexport const usermysc = function (data) {\r\n  return request({\r\n    url: '/app/v1_0/article/collections',\r\n    method: 'GET',\r\n    params: data\r\n  })\r\n}\r\n// 获取用户阅读历史\r\nexport const usermyhis = function (data) {\r\n  return request({\r\n    url: '/app/v1_0/user/histories',\r\n    method: 'GET',\r\n    params: data\r\n  })\r\n}\r\n"],"sourceRoot":""}